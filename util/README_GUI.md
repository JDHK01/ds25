# 摄像头工具集 GUI 界面

一个基于PyQt5的摄像头工具集成界面，整合了util/目录中的所有摄像头相关工具。

## 功能特性

### 🔍 设备扫描
- 自动扫描系统中所有可用的摄像头设备
- 显示设备信息（ID、名称、状态、分辨率、帧率）
- 实时刷新设备列表

### 🎨 颜色空间测试
- 支持多种颜色空间转换（BGR、RGB、HSV、HLS、LAB、YUV等）
- 实时预览不同颜色空间的效果
- 保存所有颜色空间的图像

### ⚡ 性能测试
- 全面性能测试（多分辨率、多帧率）
- 压力测试（高负载下的稳定性）
- 延迟测试（响应时间分析）
- 详细的测试结果报告

### 📹 视频录制
- 支持多种视频格式（AVI、MP4、MOV、MKV、WMV）
- 可调节录制参数（分辨率、帧率、质量）
- 实时预览录制画面
- 快速录制按钮（30秒/60秒）

### 📸 截图工具
- 单张截图、连续截图、定时截图
- 多种图像格式（JPG、PNG、BMP、TIFF）
- 图像滤镜效果（模糊、锐化、浮雕、边缘检测等）
- 可调节图像质量和缩放比例

### ⚙️ 附加工具
- 实时参数调节器
- 摄像头对比工具  
- 分辨率调节器

## 安装和运行

### 方法1：使用启动脚本（推荐）

```bash
# 运行启动脚本，自动检查和安装依赖
python run_camera_tools.py
```

### 方法2：手动安装依赖

```bash
# 安装依赖包
pip install -r requirements_gui.txt

# 运行GUI应用程序
python camera_tools_gui.py
```

## 系统要求

- **Python**: 3.6或更高版本
- **操作系统**: Windows、macOS、Linux
- **摄像头**: 至少一个可用的摄像头设备

## 依赖包

- **PyQt5**: GUI框架
- **OpenCV**: 计算机视觉和图像处理
- **NumPy**: 数值计算
- **psutil**: 系统资源监控
- **matplotlib**: 图表绘制

## 使用指南

### 1. 设备扫描
- 启动应用程序后，首先在"设备扫描"标签页查看可用设备
- 点击"扫描设备"或"刷新"按钮更新设备列表

### 2. 颜色空间测试
- 选择要测试的设备ID
- 选择颜色空间类型
- 点击"启动测试"开始测试
- 使用"保存所有颜色空间图像"保存结果

### 3. 性能测试
- 配置测试参数（设备ID、时长、测试类型）
- 点击"开始测试"启动测试
- 测试完成后查看结果报告
- 可保存测试结果到文件

### 4. 视频录制
- 设置录制参数（设备ID、输出文件、格式、质量）
- 点击"开始录制"开始录制
- 点击"停止录制"结束录制
- 使用快速录制按钮进行定时录制

### 5. 截图工具
- 设置截图参数（设备ID、输出目录、格式、质量、滤镜）
- 点击"启动预览"开始预览
- 使用不同的截图模式：
  - "单张截图"：拍摄一张照片
  - "连续截图"：连续拍摄5张照片
  - "定时截图"：每5秒自动截图

## 快捷操作

- **Ctrl+Q**: 退出应用程序
- **工具栏按钮**: 快速访问常用功能
- **菜单栏**: 访问所有工具和设置

## 输出文件

### 录制文件
- 默认保存在当前目录
- 文件名格式：`recording_YYYYMMDD_HHMMSS.格式`

### 截图文件
- 默认保存在`screenshots/`目录
- 文件名格式：`screenshot_YYYYMMDD_HHMMSS_ffff_序号.格式`

### 测试结果
- 性能测试结果可保存为JSON格式
- 包含详细的测试数据和系统信息

## 故障排除

### 常见问题

1. **摄像头无法打开**
   - 确保摄像头没有被其他程序占用
   - 检查摄像头权限设置
   - 尝试不同的设备ID

2. **预览画面显示异常**
   - 确保OpenCV正确安装
   - 检查摄像头驱动程序
   - 重启应用程序

3. **录制或截图失败**
   - 检查输出目录的写入权限
   - 确保磁盘空间充足
   - 尝试不同的文件格式

4. **性能测试结果异常**
   - 关闭其他占用摄像头的程序
   - 检查系统资源使用情况
   - 降低测试参数设置

### 日志和调试

- 应用程序会在控制台输出调试信息
- 出现问题时请查看控制台输出
- 可以直接运行util/目录中的单个工具进行测试

## 技术支持

如果遇到问题或需要帮助：

1. 检查控制台输出的错误信息
2. 确认所有依赖包正确安装
3. 验证摄像头设备正常工作
4. 查看各个工具的独立帮助文档

## 更新日志

### v1.0 (2024-01-29)
- 初始版本发布
- 集成所有摄像头工具
- 提供统一的GUI界面
- 支持多种输出格式
- 添加实时预览功能